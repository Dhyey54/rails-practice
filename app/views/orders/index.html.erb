<br>
<div class="d-flex justify-content-evenly">
  <%= render "dropdown" %>
  <%= render "search" %>
</div>
<h1 class="text-center">Orders</h1>

<div class="w-50 text-end mx-auto p-2">
  <%= link_to "New Order", new_order_path, class: "text-decoration-none text-light btn btn-info" %>
</div>

<table class="table w-50 table-bordered table-striped table-hover m-auto text-center">
  <tr>
    <th>Index</th>
    <th>Commodity Name</th>
    <th>Customer Name</th>
    <th>Status</th>
    <th>Quantity</th>
    <th>Total Price</th>
    <th>Action</th>
  </tr>
  <% @orders.each_with_index do |order, inx| %>
    <tr>
      <td><%= link_to inx+1, order %></td>
      <td><%= commodity_name(order.commodity_id).title %></td>
      <td><%= "#{order.customer.first_name} #{order.customer.last_name}" %></td>
      <td>
        <div class="d-inline badge text-dark">
          <% if order.status == "Booked" %>
            <i class='bi bi-circle-fill success'></i>
          <% else %>
            <i class='bi bi-circle-fill danger'></i>
          <% end %>
          <%= order.status %>
        </div>
      </td>
      <td><%= order.quantity %></td>
      <td><%= order.total_price %></td>
      <td><%= link_to 'Edit', edit_order_path(order), class: "text-decoration-none text-dark btn btn-warning me-2" %>
      <%= link_to "Destroy", order_path(order), data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: "text-decoration-none text-light btn btn-danger" %></td>
    </tr>
  <% end %>
</table>

<br><br><br>
